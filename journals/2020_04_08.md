-
- [[Daily Reading]]
	- [[操作系统原理]]
		- [[文件系统1]]
			- 文件与文件系统
				- 文件的定义
					- 文件是对磁盘的抽象
					- 文件是指一组带标识的（文件名）、在逻辑意义上有完整意义的**信息项**序列
					- 信息项：构成文件的基本单位，各信息项之间具有顺序关系
				- 如何设计文件系统？
					- 文件系统功能
						- 定义
							- 操作系统中统一管理信息资源的软件
						- 任务
							- 统一管理磁盘空间
							- 文件按名存取
								- 文件名称空间 -> 磁盘空间
							- 文件共享、保护、加密
							- 向用户提供维护接口、统计信息
							- IO接口
						- 用户角度
							- 文件组织、命名、保护、实施操作
						- 操作系统角度
							- 文件的描述、分类
							- **文件目录**的实现
							- 存储空间的管理
							- 文件的物理地址
							- 设备管理接口
							- 文件系统性能
					- 文件分类
						- UNIX文件分类
							- 普通文件
								- 用户信息
							- 目录文件
								- 管理文件系统的系统文件
							- 特殊文件
								- 设备文件
									- 字符设备文件
										- 输入输出有关
									- 块设备文件
										- 磁盘
				- 文件的逻辑结构
					- 流式文件：字符流
					- 记录式文件
						- 以记录为单位，按记录读写查
						- 记录的内部结构
					- 文件的存取
						- 顺序存取
						- 随机存取
							- 提供读写位置
			- 文件的存储介质
				- 典型的存储介质
					- 磁盘、U盘
				- 物理块
					- 信息存储、传输、分配的基本单位
				- 典型的磁盘结构
					- 物理地址形式：磁头号（盘面号）、磁道号（柱面号）、扇区号（）
					- 扇区：标题（10字节）、数据（512字节）、ECC纠错信息（12-16）
					- SSD的磁盘结构？
				- 磁盘访问
					- 访问过程信息
						- 读写、磁盘地址、内存地址
					- 访问动作组成
						- 寻道
						- 旋转延迟
						- 数据传输
					- SSD的磁盘访问？
			- 磁盘空间管理
				- 数据结构
					- 位图
					- 空闲块表
					- 空闲块链表
				- 成组链接法设计 - UNIX文件系统
					- 专用块
					- 空闲块
			- 文件控制块及文件目录
				- 文件控制块
					- 为管理文件而设置的数据结构
					- 文件属性或元数据
					- 常用属性
				- 文件目录
					- 统一管理每个文件的元数据，支持文件名到文件物理地址的转换
					- 文件目录演化
						- 一级目录结构
						- 二级目录结构
						- 树形目录结构
					- 路径名
						- 绝对路径名
							- 从根目录开始
						- 相对路径名
							- 从当前目录开始
				- 目录项
					- 文件控制块的有序集合
				- 目录文件
					- 以目录文件的方式存放在磁盘上
			- 文件的物理结构
				- 定义
					- 文件在存储介质伤的存放方式
				- 顺序结构
					- 定义
						- 文件的信息存放在若干连续物理块中
					- FCB记录文件地址
					- 连续结构的优缺点
						- 优点
							- 简单
							- 支持顺序存取和随机存取
							- 磁盘寻道次数和时间最少
							- 同时可读入多个块，检索块比较容易
						- 缺点
							- 文件不能动态增长
							- 不利于文件插入和删除
							- 外部碎片
				- 链接结构
					- 定义
						- 文件信息保存在若干各不连续的物理块中，块之间通过指针连接
						- 最后一块使用空指针标示
					- FCB记录文件地址
						- 保存第一个文件的指针地址
					- 优缺点
						- 优点
							- 提高了磁盘空间的利用率
							- 有利于文件的插入和删除
							- 有利于文件的动态扩充
						- 缺点
							- 存取速度慢、不适合随机存取
							- 可靠性差 ，指针出错
							- 更多的寻道次数和寻址时间
							- 链接指针占用一定空间
				- FAT 文件分配表
					- 思路
						- 将所有的物理块映射到文件分配表中
						- 表项值
							- 0
							- 下一块号
							- -1
					- 如何得到文件的起始块号
						- FCB中存储
				- 索引结构
					- 使用索引表中存储物理块号
					- FCB如何记录文件地址
					- 索引表的存储位置
					- 索引表的组织结构
						- 问题
							- 当索引表很大需要多个物理块时
						- 链接方式
						- 多级索引
						- 综合模式
					- UNIX的三级索引结构
						- 采用的多级索引结构
						- FCB存储主索引表（15个索引）
						- 前12个索引项是直接寻址，存储的物理块的地址
						- 13: 一级索引（256）
						- 14: 二级索引（256*256）
						- 15: 三级索引（256*256*256）
						- 文件最大的物理块 = 12 + 13 +14 +15
			- 文件系统的实现1
				- 磁盘分区
				- 文件卷
					- 磁盘的逻辑分区
					- 同一个文件卷使用同一份管理数据
					- 文件系统信息、文件、为分配空间
				- 格式化
					- 在文件卷上建立文件系统
					- 建立文件系统元数据
				- 文件卷内容
					- 引导区
					- 卷（分区）信息
					- 目录文件
					- 用户文件
				- 文件系统布局
					- UNIX文件布局
						- 引导区
						- 超级数据块
						- 空闲区管理
						- i节点
							- FCB
						- 根目录区
						- 文件和目录区
					- Windows文件系统 FAT - 链接结构
						- 引导区
						- 文件分配表1
						- 文件分配表2
						- 根目录
						- 其他目录和文件
				- 内存中的数据结构（UNIX）
					- 系统打开文件表
						- 存储已打开文件的FCB
						- FCB节点、引用计数、修改标记
					- 用户打开文件表
						- 进程的PCB记录了用户打开文件表的位置
						- 文件描述符、打开方式、读写指针、系统打开文件表索引
				- 文件系统实例（UNIX）
					- 文件目录检索
						- 文件名 -> 文件目录 -> FCB
						- 目录检索：根据路径名检索
						- 文件寻址
					- 如何加快目录检索？
						- 目录项分解
							- 符号目录项
								- 文件名、文件号
							- 基本目录项
								- 文件号、其他信息
						- 优点
							- 提高访盘的效率
					- UNIX文件系统
						- FCB = 目录项 + I 节点
						- 目录项：文件名+i节点
						- 目录文件由目录项构成
						- I节点：描述文件相关信息
- [[Tasks]]
	- [[操作系统原理]] - [[文件系统1]]
- [[Daily Log]]